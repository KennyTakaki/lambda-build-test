#!/usr/bin/env sh
pnpm run lint:all
pnpm run format:all
pnpm run test:all

gitleaks detect \
  --config=gitleaks.toml \
  --source=. \
  --redact \
  --report-path gitleaks-report.json

STATUS=$?
if [ $STATUS -ne 0 ]; then
  echo "ðŸ›‘ Gitleaks found issues. Commit aborted."
  exit 1
fi
